(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function n(d,f){return"pairs"==f&&"string"==typeof d?d:"object"==typeof d&&null!=d[f]?d[f]:q[f]}function k(d){return function(f){return a(f,d)}}function h(d){var f=d.state.closeBrackets,b;return!f||f.override?f:(b=d.getModeAt(d.getCursor()),b.closeBrackets||f)}function a(d,f){var l=h(d),e,a,q,k;if(!l||
d.getOption("disableInput")||(e=n(l,"pairs"),a=e.indexOf(f),-1==a))return c.Pass;for(var B=n(l,"triples"),w=e.charAt(a+1)==f,G=d.listSelections(),F=0==a%2,z,l=0;l<G.length;l++){var y=G[l],u=y.head,E=d.getRange(u,p(u.line,u.ch+1));if(F&&!y.empty())y="surround";else if(!w&&F||E!=f)if(w&&1<u.ch&&0<=B.indexOf(f)&&d.getRange(p(u.line,u.ch-2),u)==f+f&&(2>=u.ch||d.getRange(p(u.line,u.ch-3),p(u.line,u.ch-2))!=f))y="addFour";else if(w)if(!c.isWordChar(E)&&g(d,u,f))y="both";else return c.Pass;else if(F&&(d.getLine(u.line).length==
u.ch||b(E,e)||/\s/.test(E)))y="both";else return c.Pass;else y=w&&m(d,u)?"both":0<=B.indexOf(f)&&d.getRange(u,p(u.line,u.ch+3))==f+f+f?"skipThree":"skip";if(z){if(z!=y)return c.Pass}else z=y}q=a%2?e.charAt(a-1):f;k=a%2?f:e.charAt(a+1);d.operation(function(){var f,b;if("skip"==z)d.execCommand("goCharRight");else if("skipThree"==z)for(b=0;3>b;b++)d.execCommand("goCharRight");else if("surround"==z){f=d.getSelections();for(b=0;b<f.length;b++)f[b]=q+f[b]+k;d.replaceSelections(f,"around");f=d.listSelections().slice();
for(b=0;b<f.length;b++){var l=f,e=b,a;a=f[b];var g=0<c.cmpPos(a.anchor,a.head);a={anchor:new p(a.anchor.line,a.anchor.ch+(g?-1:1)),head:new p(a.head.line,a.head.ch+(g?1:-1))};l[e]=a}d.setSelections(f)}else"both"==z?(d.replaceSelection(q+k,null),d.triggerElectric(q+k),d.execCommand("goCharLeft")):"addFour"==z&&(d.replaceSelection(q+q+q+q,"before"),d.execCommand("goCharRight"))})}function b(d,f){var b=f.lastIndexOf(d);return-1<b&&1==b%2}function e(d,f){var b=d.getRange(p(f.line,f.ch-1),p(f.line,f.ch+
1));return 2==b.length?b:null}function g(d,f,b){var a=d.getLine(f.line),l=d.getTokenAt(f);if(/\bstring2?\b/.test(l.type)||m(d,f))return!1;b=new c.StringStream(a.slice(0,f.ch)+b+a.slice(f.ch),4);for(b.pos=b.start=l.start;;){if(a=d.getMode().token(b,l.state),b.pos>=f.ch+1)return/\bstring2?\b/.test(a);b.start=b.pos}}function m(d,f){var b=d.getTokenAt(p(f.line,f.ch+1));return/\bstring/.test(b.type)&&b.start==f.ch}var q={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},p=c.Pos,f,d,l;c.defineOption("autoCloseBrackets",
!1,function(f,b,a){a&&a!=c.Init&&(f.removeKeyMap(d),f.state.closeBrackets=null);b&&(f.state.closeBrackets=b,f.addKeyMap(d))});f=q.pairs+"`";d={Backspace:function(d){var f=h(d),b,a,l;if(!f||d.getOption("disableInput"))return c.Pass;b=n(f,"pairs");f=d.listSelections();for(l=0;l<f.length;l++)if(!f[l].empty()||(a=e(d,f[l].head),!a||0!=b.indexOf(a)%2))return c.Pass;for(l=f.length-1;0<=l;l--)a=f[l].head,d.replaceRange("",p(a.line,a.ch-1),p(a.line,a.ch+1),"+delete")},Enter:function(d){var f=h(d),f=f&&n(f,
"explode"),b,a,l;if(!f||d.getOption("disableInput"))return c.Pass;b=d.listSelections();for(a=0;a<b.length;a++)if(!b[a].empty()||(l=e(d,b[a].head),!l||0!=f.indexOf(l)%2))return c.Pass;d.operation(function(){var f,a;d.replaceSelection("\n\n",null);d.execCommand("goCharLeft");b=d.listSelections();for(f=0;f<b.length;f++)a=b[f].head.line,d.indentLine(a,null,!0),d.indentLine(a+1,null,!0)})}};for(l=0;l<f.length;l++)d["'"+f.charAt(l)+"'"]=k(f.charAt(l))});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],c):c(CodeMirror)})(function(c){function n(g){var m,q,p,f,d,l;if(g.getOption("disableInput"))return c.Pass;m=g.listSelections();q=[];for(d=0;d<m.length;d++){if(!m[d].empty())return c.Pass;l=m[d].head;f=g.getTokenAt(l);var r=c.innerMode(g.getMode(),f.state),t=r.state;if("xml"!=r.mode.name||
!t.tagName)return c.Pass;var k=g.getOption("autoCloseTags"),n="html"==r.mode.configuration,r="object"==typeof k&&k.dontCloseTags||n&&b,n="object"==typeof k&&k.indentTags||n&&e,k=t.tagName;if(f.end>l.ch&&(k=k.slice(0,k.length-f.end+l.ch)),p=k.toLowerCase(),!k||"string"==f.type&&(f.end!=l.ch||!/[\"\']/.test(f.string.charAt(f.string.length-1))||1==f.string.length)||"tag"==f.type&&"closeTag"==t.type||f.string.indexOf("/")==f.string.length-1||r&&-1<h(r,p)||a(g,k,l,t,!0))return c.Pass;f=n&&-1<h(n,p);q[d]=
{indent:f,text:"\x3e"+(f?"\n\n":"")+"\x3c/"+k+"\x3e",newPos:f?c.Pos(l.line+1,0):c.Pos(l.line,l.ch+1)}}for(d=m.length-1;0<=d;d--)p=q[d],g.replaceRange(p.text,m[d].head,m[d].anchor,"+insert"),l=g.listSelections().slice(0),l[d]={head:p.newPos,anchor:p.newPos},g.setSelections(l),p.indent&&(g.indentLine(p.newPos.line,null,!0),g.indentLine(p.newPos.line+1,null,!0))}function k(b,e){for(var q,p=b.listSelections(),f=[],d=e?"/":"\x3c/",l=0;l<p.length;l++){if(!p[l].empty())return c.Pass;var r=p[l].head,t=b.getTokenAt(r);
q=c.innerMode(b.getMode(),t.state);var k=q.state;if(e&&("string"==t.type||"\x3c"!=t.string.charAt(0)||t.start!=r.ch-1))return c.Pass;if("xml"!=q.mode.name)if("htmlmixed"==b.getMode().name&&"javascript"==q.mode.name)q=d+"script";else if("htmlmixed"==b.getMode().name&&"css"==q.mode.name)q=d+"style";else return c.Pass;else{if(!k.context||!k.context.tagName||a(b,k.context.tagName,r,k))return c.Pass;q=d+k.context.tagName}"\x3e"!=b.getLine(r.line).charAt(t.end)&&(q+="\x3e");f[l]=q}b.replaceSelections(f);
p=b.listSelections();for(l=0;l<p.length;l++)(l==p.length-1||p[l].head.line<p[l+1].head.line)&&b.indentLine(p[l].head.line)}function h(b,a){if(b.indexOf)return b.indexOf(a);for(var e=0,c=b.length;e<c;++e)if(b[e]==a)return e;return-1}function a(b,a,e,p,f){var d,l,r;if(!c.scanForClosingTag||(d=Math.min(b.lastLine()+1,e.line+500),l=c.scanForClosingTag(b,e,null,d),!l||l.tag!=a))return!1;e=p.context;for(f=f?1:0;e&&e.tagName==a;e=e.prev)++f;e=l.to;for(l=1;l<f;l++){if(r=c.scanForClosingTag(b,e,null,d),!r||
r.tag!=a)return!1;e=r.to}return!0}c.defineOption("autoCloseTags",!1,function(b,a,e){if(e!=c.Init&&e&&b.removeKeyMap("autoCloseTags"),a)e={name:"autoCloseTags"},("object"!=typeof a||a.whenClosing)&&(e["'/'"]=function(b){return b.getOption("disableInput")?c.Pass:k(b,!0)}),("object"!=typeof a||a.whenOpening)&&(e["'\x3e'"]=function(b){return n(b)}),b.addKeyMap(e)});var b="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),e="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ");
c.commands.closeTag=function(b){return k(b)}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function n(b){var a,g,m,q,p,f,d,l,r,t,h;if(b.getOption("disableInput"))return c.Pass;a=b.listSelections();m=[];for(q=0;q<a.length;q++){if(p=a[q].head,f=b.getTokenAt(p),"comment"!=f.type)return c.Pass;if(d=c.innerMode(b.getMode(),f.state).mode,g){if(g!=d)return c.Pass}else g=d;if(d=null,g.blockCommentStart&&
g.blockCommentContinue){if(l=f.string.indexOf(g.blockCommentEnd),r=b.getRange(c.Pos(p.line,0),c.Pos(p.line,f.end)),-1==l||l!=f.string.length-g.blockCommentEnd.length||!(p.ch>=l))if(0==f.string.indexOf(g.blockCommentStart)){if(d=r.slice(0,f.start),!/^\s*$/.test(d))for(d="",r=0;r<f.start;++r)d+=" "}else-1!=(h=r.indexOf(g.blockCommentContinue))&&h+g.blockCommentContinue.length>f.start&&/^\s*$/.test(r.slice(0,h))&&(d=r.slice(0,h));null!=d&&(d+=g.blockCommentContinue)}if(null==d&&g.lineComment&&k(b)&&
(t=b.getLine(p.line),h=t.indexOf(g.lineComment),-1<h&&(d=t.slice(0,h),/\S/.test(d)?d=null:d+=g.lineComment+t.slice(h+g.lineComment.length).match(/^\s*/)[0])),null==d)return c.Pass;m[q]="\n"+d}b.operation(function(){for(var d=a.length-1;0<=d;d--)b.replaceRange(m[d],a[d].from(),a[d].to(),"+insert")})}function k(b){return(b=b.getOption("continueComments"))&&"object"==typeof b?!1!==b.continueLineComment:!0}for(var h=["clike","css","javascript"],a=0;a<h.length;++a)c.extendMode(h[a],{blockCommentContinue:" * "});
c.defineOption("continueComments",null,function(b,a,g){var m,q;g&&g!=c.Init&&b.removeKeyMap("continueComment");a&&(m="Enter","string"==typeof a?m=a:"object"==typeof a&&a.key&&(m=a.key),q={name:"continueComment"},q[m]=n,b.addKeyMap(q))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function n(b,a,f){var d=b.getLineHandle(a.line),l=a.ch-1,c=f&&f.afterCursor,m,h,n,v;return(null==c&&(c=/(^| )cm-fat-cursor($| )/.test(b.getWrapperElement().className)),m=!c&&0<=l&&g[d.text.charAt(l)]||g[d.text.charAt(++l)],m)?(h="\x3e"==m.charAt(1)?1:-1,f&&f.strict&&0<h!=(l==a.ch))?null:(n=b.getTokenTypeAt(e(a.line,
l+1)),v=k(b,e(a.line,l+(0<h?1:0)),h,n||null,f),null==v)?null:{from:e(a.line,l),to:v&&v.pos,match:v&&v.ch==m.charAt(0),forward:0<h}:null}function k(b,a,f,d,l){var c,m,k,h,n,A=l&&l.maxScanLineLength||1E4,D=l&&l.maxScanLines||1E3,B=[];l=l&&l.bracketRegex?l.bracketRegex:/[(){}[\]]/;for(var D=0<f?Math.min(a.line+D,b.lastLine()+1):Math.max(b.firstLine()-1,a.line-D),w=a.line;w!=D;w+=f)if((c=b.getLine(w),c)&&(m=0<f?0:c.length-1,k=0<f?c.length:-1,!(c.length>A)))for(w==a.line&&(m=a.ch-(0>f?1:0));m!=k;m+=f)if(h=
c.charAt(m),l.test(h)&&(void 0===d||b.getTokenTypeAt(e(w,m+1))==d))if(n=g[h],"\x3e"==n.charAt(1)==0<f)B.push(h);else if(B.length)B.pop();else return{pos:e(w,m),ch:h};return w-f==(0<f?b.lastLine():b.firstLine())?!1:null}function h(a,c,f){for(var d,l,g=a.state.matchBrackets.maxHighlightLineLength||1E3,m=[],h=a.listSelections(),k=0;k<h.length;k++)(d=h[k].empty()&&n(a,h[k].head,f))&&a.getLine(d.from.line).length<=g&&(l=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",m.push(a.markText(d.from,
e(d.from.line,d.from.ch+1),{className:l})),d.to&&a.getLine(d.to.line).length<=g&&m.push(a.markText(d.to,e(d.to.line,d.to.ch+1),{className:l})));if(m.length)if(b&&a.state.focused&&a.focus(),f=function(){a.operation(function(){for(var d=0;d<m.length;d++)m[d].clear()})},c)setTimeout(f,800);else return f}function a(b){b.operation(function(){m&&(m(),m=null);m=h(b,!1,b.state.matchBrackets)})}var b=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),e=c.Pos,g={"(":")\x3e",
")":"(\x3c","[":"]\x3e","]":"[\x3c","{":"}\x3e","}":"{\x3c"},m=null;c.defineOption("matchBrackets",!1,function(b,e,f){if(f&&f!=c.Init&&(b.off("cursorActivity",a),m&&(m(),m=null)),e)b.state.matchBrackets="object"==typeof e?e:{},b.on("cursorActivity",a)});c.defineExtension("matchBrackets",function(){h(this,!0)});c.defineExtension("findMatchingBracket",function(b,a,f){return(f||"boolean"==typeof a)&&(f?(f.strict=a,a=f):a=a?{strict:!0}:null),n(this,b,a)});c.defineExtension("scanForBracket",function(b,
a,f,d){return k(this,b,a,f,d)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],c):c(CodeMirror)})(function(c){function n(a){a.state.tagHit&&a.state.tagHit.clear();a.state.tagOther&&a.state.tagOther.clear();a.state.tagHit=a.state.tagOther=null}function k(a){a.state.failedTagMatch=!1;a.operation(function(){var b,e,g,m,h;(n(a),a.somethingSelected())||(b=a.getCursor(),
e=a.getViewport(),e.from=Math.min(e.from,b.line),e.to=Math.max(b.line+1,e.to),g=c.findMatchingTag(a,b,e),g)&&(a.state.matchBothTags&&(m="open"==g.at?g.open:g.close,m&&(a.state.tagHit=a.markText(m.from,m.to,{className:"CodeMirror-matchingtag"}))),h="close"==g.at?g.open:g.close,h?a.state.tagOther=a.markText(h.from,h.to,{className:"CodeMirror-matchingtag"}):a.state.failedTagMatch=!0)})}function h(a){a.state.failedTagMatch&&k(a)}c.defineOption("matchTags",!1,function(a,b,e){if(e&&e!=c.Init&&(a.off("cursorActivity",
k),a.off("viewportChange",h),n(a)),b)a.state.matchBothTags="object"==typeof b&&b.bothTags,a.on("cursorActivity",k),a.on("viewportChange",h),k(a)});c.commands.toMatchingTag=function(a){var b=c.findMatchingTag(a,a.getCursor()),e;b&&(e="close"==b.at?b.open:b.close,e&&a.extendSelection(e.to,e.from))}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.defineOption("showTrailingSpace",!1,function(n,k,h){h==c.Init&&(h=!1);h&&!k?n.removeOverlay("trailingspace"):!h&&k&&n.addOverlay({token:function(a){for(var b=a.string.length,e=b;e&&/\s/.test(a.string.charAt(e-1));--e);return e>a.pos?(a.pos=e,null):(a.pos=b,"trailingspace")},name:"trailingspace"})})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function n(b,a,g,m){function q(d){var l=p(b,a),c,g;if(!l||l.to.line-l.from.line<f)return null;c=b.findMarksAt(l.from);for(g=0;g<c.length;++g)if(c[g].__isFold&&"fold"!==m){if(!d)return null;l.cleared=!0;c[g].clear()}return l}var p,f,d,l,r;if(g&&g.call?(p=g,g=null):p=h(b,g,"rangeFinder"),"number"==typeof a&&
(a=c.Pos(a,0)),f=h(b,g,"minFoldSize"),d=q(!0),h(b,g,"scanUp"))for(;!d&&a.line>b.firstLine();)a=c.Pos(a.line-1,0),d=q(!1);d&&!d.cleared&&"unfold"!==m&&(l=k(b,g),c.on(l,"mousedown",function(d){r.clear();c.e_preventDefault(d)}),r=b.markText(d.from,d.to,{replacedWith:l,clearOnEnter:h(b,g,"clearOnEnter"),__isFold:!0}),r.on("clear",function(d,a){c.signal(b,"unfold",b,d,a)}),c.signal(b,"fold",b,d.from,d.to))}function k(b,a){var c=h(b,a,"widget"),m;return"string"==typeof c&&(m=document.createTextNode(c),
c=document.createElement("span"),c.appendChild(m),c.className="CodeMirror-foldmarker"),c}function h(b,c,g){return c&&void 0!==c[g]?c[g]:(b=b.options.foldOptions)&&void 0!==b[g]?b[g]:a[g]}c.newFoldFunction=function(a,c){return function(g,m){n(g,m,{rangeFinder:a,widget:c})}};c.defineExtension("foldCode",function(a,c,g){n(this,a,c,g)});c.defineExtension("isFolded",function(a){a=this.findMarksAt(a);for(var c=0;c<a.length;++c)if(a[c].__isFold)return!0});c.commands.toggleFold=function(a){a.foldCode(a.getCursor())};
c.commands.fold=function(a){a.foldCode(a.getCursor(),null,"fold")};c.commands.unfold=function(a){a.foldCode(a.getCursor(),null,"unfold")};c.commands.foldAll=function(a){a.operation(function(){for(var e=a.firstLine(),g=a.lastLine();e<=g;e++)a.foldCode(c.Pos(e,0),null,"fold")})};c.commands.unfoldAll=function(a){a.operation(function(){for(var e=a.firstLine(),g=a.lastLine();e<=g;e++)a.foldCode(c.Pos(e,0),null,"unfold")})};c.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,
0);return function(c,g){for(var m,h=0;h<a.length;++h)if(m=a[h](c,g),m)return m}});c.registerHelper("fold","auto",function(a,c){for(var g,m=a.getHelpers(c,"fold"),h=0;h<m.length;h++)if(g=m[h](a,c),g)return g});var a={rangeFinder:c.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};c.defineOption("foldOptions",null);c.defineExtension("foldOption",function(a,c){return h(this,a,c)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],c):c(CodeMirror)})(function(c){function n(a){this.options=a;this.from=this.to=0}function k(a,d){for(var b=a.findMarks(p(d,0),p(d+1,0)),c=0;c<b.length;++c)if(b[c].__isFold&&b[c].find().from.line==d)return b[c]}function h(a){if("string"==typeof a){var d=document.createElement("div");return d.className=
a+" CodeMirror-guttermarker-subtle",d}return a.cloneNode(!0)}function a(a,d,b){var c=a.state.foldGutter.options,e=d,m=a.foldOption(c,"minFoldSize"),g=a.foldOption(c,"rangeFinder");a.eachLine(d,b,function(d){var b=null,l,q;k(a,e)?b=h(c.indicatorFolded):(l=p(e,0),q=g&&g(a,l),q&&q.to.line-q.from.line>=m&&(b=h(c.indicatorOpen)));a.setGutterMarker(d,c.gutter,b);++e})}function b(b){var d=b.getViewport(),c=b.state.foldGutter;c&&(b.operation(function(){a(b,d.from,d.to)}),c.from=d.from,c.to=d.to)}function e(a,
d,b){var c=a.state.foldGutter,e,m;c&&(e=c.options,b==e.gutter)&&(m=k(a,d),m?m.clear():a.foldCode(p(d,0),e.rangeFinder))}function g(a){var d=a.state.foldGutter,c;d&&(c=d.options,d.from=d.to=0,clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){b(a)},c.foldOnChangeTimeSpan||600))}function m(c){var d=c.state.foldGutter,l;d&&(l=d.options,clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){var l=c.getViewport();d.from==d.to||20<l.from-d.to||20<d.from-l.to?b(c):c.operation(function(){l.from<
d.from&&(a(c,l.from,d.from),d.from=l.from);l.to>d.to&&(a(c,d.to,l.to),d.to=l.to)})},l.updateViewportTimeSpan||400))}function q(b,d){var c=b.state.foldGutter,e;c&&(e=d.line,e>=c.from&&e<c.to&&a(b,e,e+1))}c.defineOption("foldGutter",!1,function(a,d,l){if(l&&l!=c.Init&&(a.clearGutter(a.state.foldGutter.options.gutter),a.state.foldGutter=null,a.off("gutterClick",e),a.off("change",g),a.off("viewportChange",m),a.off("fold",q),a.off("unfold",q),a.off("swapDoc",g)),d){l=a.state;var p=d;d=(!0===p&&(p={}),
null==p.gutter&&(p.gutter="CodeMirror-foldgutter"),null==p.indicatorOpen&&(p.indicatorOpen="CodeMirror-foldgutter-open"),null==p.indicatorFolded&&(p.indicatorFolded="CodeMirror-foldgutter-folded"),p);l.foldGutter=new n(d);b(a);a.on("gutterClick",e);a.on("change",g);a.on("viewportChange",m);a.on("fold",q);a.on("unfold",q);a.on("swapDoc",g)}});var p=c.Pos});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerHelper("fold","brace",function(n,k){function h(d){for(var f,l=k.ch,m=0;;)if(f=0>=l?-1:b.lastIndexOf(d,l-1),-1==f){if(1==m)break;m=1;l=b.length}else{if(1==m&&f<k.ch)break;if(e=n.getTokenTypeAt(c.Pos(a,f+1)),!/^(comment|string)/.test(e))return f+1;l=f-1}}var a=k.line,b=n.getLine(a),e,g="{",m="}",
q=h("{"),p,f,d,l,r,t,x,C,v;if(null==q&&(g="[",m="]",q=h("[")),null!=q){p=1;f=n.lastLine();r=a;a:for(;r<=f;++r)for(t=n.getLine(r),x=r==a?q:0;C=t.indexOf(g,x),v=t.indexOf(m,x),0>C&&(C=t.length),0>v&&(v=t.length),x=Math.min(C,v),x!=t.length;){if(n.getTokenTypeAt(c.Pos(r,x+1))==e)if(x==C)++p;else if(!--p){d=r;l=x;break a}++x}if(null!=d&&(a!=d||l!=q))return{from:c.Pos(a,q),to:c.Pos(d,l)}}});c.registerHelper("fold","import",function(n,k){function h(a){var b,e,f,d;if(a<n.firstLine()||a>n.lastLine()||(b=
n.getTokenAt(c.Pos(a,1)),/\S/.test(b.string)||(b=n.getTokenAt(c.Pos(a,b.end+1))),"keyword"!=b.type||"import"!=b.string))return null;e=a;for(a=Math.min(n.lastLine(),a+10);e<=a;++e)if(f=n.getLine(e),d=f.indexOf(";"),-1!=d)return{startCh:b.end,end:c.Pos(e,d)}}var a=k.line,b=h(a),e,g;if(!b||h(a-1)||(e=h(a-2))&&e.end.line==a-1)return null;for(e=b.end;g=h(e.line+1),null!=g;)e=g.end;return{from:n.clipPos(c.Pos(a,b.startCh+1)),to:e}});c.registerHelper("fold","include",function(n,k){function h(a){if(a<n.firstLine()||
a>n.lastLine())return null;var b=n.getTokenAt(c.Pos(a,1));return/\S/.test(b.string)||(b=n.getTokenAt(c.Pos(a,b.end+1))),"meta"==b.type&&"#include"==b.string.slice(0,8)?b.start+8:void 0}var a=k.line,b=h(a),e,g;if(null==b||null!=h(a-1))return null;for(e=a;g=h(e+1),null!=g;)++e;return{from:c.Pos(a,b+1),to:n.clipPos(c.Pos(e))}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerGlobalHelper("fold","comment",function(c){return c.blockCommentStart&&c.blockCommentEnd},function(n,k){var h=n.getModeAt(k),a=h.blockCommentStart,h=h.blockCommentEnd,b,e,g,m,q,p,f,d,l,r,t;if(a&&h){b=k.line;e=n.getLine(b);m=k.ch;for(q=0;;)if(g=0>=m?-1:e.lastIndexOf(a,m-1),-1==g){if(1==q)return;
q=1;m=e.length}else{if(1==q&&g<k.ch)return;if(/comment/.test(n.getTokenTypeAt(c.Pos(b,g+1)))&&(0==g||e.slice(g-h.length,g)==h||!/comment/.test(n.getTokenTypeAt(c.Pos(b,g))))){g+=a.length;break}m=g-1}e=1;m=n.lastLine();q=b;a:for(;q<=m;++q)for(d=n.getLine(q),l=q==b?g:0;r=d.indexOf(a,l),t=d.indexOf(h,l),0>r&&(r=d.length),0>t&&(t=d.length),l=Math.min(r,t),l!=d.length;){if(l==r)++e;else if(!--e){p=q;f=l;break a}++l}if(null!=p&&(b!=p||f!=g))return{from:c.Pos(b,g),to:c.Pos(p,f)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function n(k,h){var a=k.getLine(h),b=a.search(/\S/);return-1==b||/\bcomment\b/.test(k.getTokenTypeAt(c.Pos(h,b+1)))?-1:c.countColumn(a,null,k.getOption("tabSize"))}c.registerHelper("fold","indent",function(k,h){var a=n(k,h.line),b,e,g,m;if(!(0>a)){b=null;e=h.line+1;for(g=k.lastLine();e<=g;++e)if(m=n(k,
e),-1!=m)if(m>a)b=e;else break;if(b)return{from:c.Pos(h.line,k.getLine(h.line).length),to:c.Pos(b,k.getLine(b).length)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function n(a,b,c,f){this.line=b;this.ch=c;this.cm=a;this.text=a.getLine(b);this.min=f?Math.max(f.from,a.firstLine()):a.firstLine();this.max=f?Math.min(f.to-1,a.lastLine()):a.lastLine()}function k(a,b){var c=a.cm.getTokenTypeAt(p(a.line,b));return c&&/\btag\b/.test(c)}function h(a){if(!(a.line>=a.max))return a.ch=
0,a.text=a.cm.getLine(++a.line),!0}function a(a){if(!(a.line<=a.min))return a.text=a.cm.getLine(--a.line),a.ch=a.text.length,!0}function b(a){for(var b,c,f;;){if(b=a.text.indexOf("\x3e",a.ch),-1==b)if(h(a))continue;else break;if(k(a,b+1))return c=a.text.lastIndexOf("/",b),f=-1<c&&!/\S/.test(a.text.slice(c+1,b)),a.ch=b+1,f?"selfClose":"regular";a.ch=b+1}}function e(b){for(var c,e;;){if(c=b.ch?b.text.lastIndexOf("\x3c",b.ch-1):-1,-1==c)if(a(b))continue;else break;if(!k(b,c+1))b.ch=c;else if(f.lastIndex=
c,b.ch=c,e=f.exec(b.text),e&&e.index==c)return e}}function g(a){for(;;){f.lastIndex=a.ch;var b=f.exec(a.text);if(!b)if(h(a))continue;else break;if(k(a,b.index+1))return a.ch=b.index+b[0].length,b;a.ch=b.index+1}}function m(a,c){for(var f=[],e;;){var m=g(a),h,k=a.line,n=a.ch-(m?m[0].length:0);if(!m||!(h=b(a)))break;if("selfClose"!=h)if(m[1]){for(e=f.length-1;0<=e;--e)if(f[e]==m[2]){f.length=e;break}if(0>e&&(!c||c==m[2]))return{tag:m[2],from:p(k,n),to:p(a.line,a.ch)}}else f.push(m[2])}}function q(b,
c){for(var f=[],m,g;;){var h;a:{h=b;for(var n=void 0,q=g=void 0;;){if(n=h.ch?h.text.lastIndexOf("\x3e",h.ch-1):-1,-1==n)if(a(h))continue;else{h=void 0;break a}if(k(h,n+1)){h=(g=h.text.lastIndexOf("/",n),q=-1<g&&!/\S/.test(h.text.slice(g+1,n)),h.ch=n+1,q?"selfClose":"regular");break a}else h.ch=n}}if(m=h,!m)break;if("selfClose"==m)e(b);else{q=b.line;h=b.ch;n=e(b);if(!n)break;if(n[1])f.push(n[2]);else{for(g=f.length-1;0<=g;--g)if(f[g]==n[2]){f.length=g;break}if(0>g&&(!c||c==n[2]))return{tag:n[2],from:p(b.line,
b.ch),to:p(q,h)}}}}}var p=c.Pos,f=RegExp("\x3c(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");c.registerHelper("fold","xml",function(a,c){for(var f=
new n(a,c.line,0),e,h,k,q;e=g(f),e&&f.line==c.line&&(h=b(f));)if(!e[1]&&"selfClose"!=h)return k=p(f.line,f.ch),q=m(f,e[2]),q&&{from:k,to:q.from}});c.findMatchingTag=function(a,c,f){var g=new n(a,c.line,c.ch,f),h;if(-1!=g.text.indexOf("\x3e")||-1!=g.text.indexOf("\x3c")){var k=b(g),v=k&&p(g.line,g.ch),A=k&&e(g);if(k&&A&&!(0<(g.line-c.line||g.ch-c.ch)))return(h={from:p(g.line,g.ch),to:v,tag:A[2]},"selfClose"==k)?{open:h,close:null,at:"open"}:A[1]?{open:q(g,A[2]),close:h,at:"close"}:(g=new n(a,v.line,
v.ch,f),{open:h,close:m(g,A[2]),at:"open"})}};c.findEnclosingTag=function(a,b,c,f){for(var e=new n(a,b.line,b.ch,c),g,h,p;g=q(e,f),g;)if(h=new n(a,b.line,b.ch,c),p=m(h,g.tag),p)return{open:g,close:p}};c.scanForClosingTag=function(a,b,c,f){a=new n(a,b.line,b.ch,f?{from:0,to:f}:null);return m(a,c)}});
(function(){CodeMirror.defineExtension("autoFormatAll",function(c,n){for(var k,h=this,a=h.getMode(),b=h.getRange(c,n).split("\n"),e=CodeMirror.copyState(a,h.getTokenAt(c).state),g=h.getOption("tabSize"),m="",q=0,p=0==c.ch,f=0;f<b.length;++f){for(k=new CodeMirror.StringStream(b[f],g);!k.eol();){var d=CodeMirror.innerMode(a,e),l=a.token(k,e),r=k.current();k.start=k.pos;(!p||/\S/.test(r))&&(m+=r,p=!1);!p&&d.mode.newlineAfterToken&&d.mode.newlineAfterToken(l,r,k.string.slice(k.pos)||b[f+1]||"",d.state)&&
(m+="\n",p=!0,++q)}!k.pos&&a.blankLine&&a.blankLine(e);!p&&f<b.length-1&&(m+="\n",p=!0,++q)}h.operation(function(){h.replaceRange(m,c,n);for(var a=c.line+1,b=c.line+q;a<=b;++a)h.indentLine(a,"smart");h.setCursor({line:0,ch:0})})})})();
(function(){function c(c){for(var k,h,a=[/for\s*?\((.*?)\)/g,/&#?[a-z0-9]+;[\s\S]/g,/\"(.*?)((\")|$)/g,/\/\*(.*?)(\*\/|$)/g,/^\/\/.*/g],b=[],e=0;e<a.length;e++)for(k=0;k<c.length;)if(h=c.substr(k).match(a[e]),null!=h)b.push({start:k+h.index,end:k+h.index+h[0].length}),k+=h.index+Math.max(1,h[0].length);else break;return b.sort(function(a,b){return a.start-b.start}),b}CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(c,k){return/^[;{}]$/.test(k)}});CodeMirror.extendMode("javascript",
{commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],autoFormatLineBreaks:function(n){var k=0,h=this.jsonMode?function(a){return a.replace(/([,{])/g,"$1\n").replace(/}/g,"\n}")}:function(a){return a.replace(/(;|\{|\})([^\r\n;])/g,"$1\n$2")},a=c(n),b="",e;if(null!=a){for(e=0;e<a.length;e++)a[e].start>k&&(b+=h(n.substring(k,a[e].start)),k=a[e].start),a[e].start<=k&&a[e].end>=k&&(b+=n.substring(k,a[e].end),k=a[e].end);k<n.length&&(b+=h(n.substr(k)))}else b=h(n);return b.replace(/^\n*|\n*$/,
"")}});CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",noBreak:!1,noBreakEmpty:null,tagType:"",tagName:"",isXML:!1,newlineAfterToken:function(c,k,h){var a=!1,b=null,e="",g;if(this.isXML="xml"==this.configuration?!0:!1,"comment"==c||/\x3c!--/.test(h))return!1;if("tag"==c){if(0==k.indexOf("\x3c")&&0==!k.indexOf("\x3c/")&&(this.tagType="open",b=k.match(/^<\s*?([\w]+?)$/i),this.tagName=null!=b?b[1]:"",e=this.tagName.toLowerCase(),-1!="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+
e+"|")&&(this.noBreak=!0)),0==k.indexOf("\x3e")&&"open"==this.tagType)return(this.tagType="",g=this.isXML?"[^\x3c]*?":"",RegExp("^"+g+"\x3c/s*?"+this.tagName+"s*?\x3e","i").test(h))?(this.noBreak=!1,this.isXML||(this.tagName=""),!1):(a=this.noBreak,this.noBreak=!1,a?!1:!0);if(0==k.indexOf("\x3c/")&&(this.tagType="close",b=k.match(/^<\/\s*?([\w]+?)$/i),null!=b&&(e=b[1].toLowerCase()),-1!="|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+e+"|")&&
(this.noBreak=!0)),0==k.indexOf("\x3e")&&"close"==this.tagType)return(this.tagType="",0==h.indexOf("\x3c")&&(b=h.match(/^<\/?\s*?([\w]+?)(\s|>)/i),e=null!=b?b[1].toLowerCase():"",-1=="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+e+"|")))?(this.noBreak=!1,!0):(a=this.noBreak,this.noBreak=!1,a?!1:!0)}return 0==h.indexOf("\x3c")?(this.noBreak=!1,this.isXML&&""!=this.tagName)?(this.tagName="",!1):(b=h.match(/^<\/?\s*?([\w]+?)(\s|>)/i),
e=null!=b?b[1].toLowerCase():"",-1!="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+e+"|")?!1:!0):!1}});CodeMirror.defineExtension("commentRange",function(c,k,h){var a=this,b=CodeMirror.innerMode(a.getMode(),a.getTokenAt(k).state).mode;a.operation(function(){if(c)a.replaceRange(b.commentEnd,h),a.replaceRange(b.commentStart,k),k.line==h.line&&k.ch==h.ch&&a.setCursor(k.line,k.ch+b.commentStart.length);else{var e=a.getRange(k,
h),g=e.indexOf(b.commentStart),m=e.lastIndexOf(b.commentEnd);-1<g&&-1<m&&m>g&&(e=e.substr(0,g)+e.substring(g+b.commentStart.length,m)+e.substr(m+b.commentEnd.length));a.replaceRange(e,k,h)}})});CodeMirror.defineExtension("autoIndentRange",function(c,k){var h=this;this.operation(function(){for(var a=c.line;a<=k.line;a++)h.indentLine(a,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(c,k){for(var h,a=this,b=a.getMode(),e=a.getRange(c,k).split("\n"),g=CodeMirror.copyState(b,a.getTokenAt(c).state),
m=a.getOption("tabSize"),q="",p=0,f=0==c.ch,d=0;d<e.length;++d){for(h=new CodeMirror.StringStream(e[d],m);!h.eol();){var l=CodeMirror.innerMode(b,g),r=b.token(h,g),t=h.current();h.start=h.pos;(!f||/\S/.test(t))&&(q+=t,f=!1);!f&&l.mode.newlineAfterToken&&l.mode.newlineAfterToken(r,t,h.string.slice(h.pos)||e[d+1]||"",l.state)&&(q+="\n",f=!0,++p)}!h.pos&&b.blankLine&&b.blankLine(g);!f&&d<e.length-1&&(q+="\n",f=!0,++p)}a.operation(function(){a.replaceRange(q,c,k);for(var b=c.line+1,f=c.line+p;b<=f;++b)a.indentLine(b,
"smart");a.setSelection(c,a.getCursor(!1))})})})();
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function n(a){for(var c=0;c<a.state.activeLines.length;c++)a.removeLineClass(a.state.activeLines[c],"wrap",b),a.removeLineClass(a.state.activeLines[c],"background",e),a.removeLineClass(a.state.activeLines[c],"gutter",g)}function k(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=
b[c])return!1;return!0}function h(a,c){for(var h,f,d,l=[],r=0;r<c.length;r++)(h=c[r],f=a.getOption("styleActiveLine"),"object"==typeof f&&f.nonEmpty?h.anchor.line==h.head.line:h.empty())&&(d=a.getLineHandleVisualStart(h.head.line),l[l.length-1]!=d&&l.push(d));k(a.state.activeLines,l)||a.operation(function(){n(a);for(var c=0;c<l.length;c++)a.addLineClass(l[c],"wrap",b),a.addLineClass(l[c],"background",e),a.addLineClass(l[c],"gutter",g);a.state.activeLines=l})}function a(a,b){h(a,b.ranges)}var b="CodeMirror-activeline",
e="CodeMirror-activeline-background",g="CodeMirror-activeline-gutter";c.defineOption("styleActiveLine",!1,function(b,e,g){g=g==c.Init?!1:g;e!=g&&(g&&(b.off("beforeSelectionChange",a),n(b),delete b.state.activeLines),e)&&(b.state.activeLines=[],h(b,b.listSelections()),b.on("beforeSelectionChange",a))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("./matchesonscrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./matchesonscrollbar"],c):c(CodeMirror)})(function(c){function n(a){this.options={};for(var b in q)this.options[b]=(a&&a.hasOwnProperty(b)?a:q)[b];this.matchesonscroll=this.overlay=this.timeout=null;this.active=!1}function k(b){var c=b.state.matchHighlighter;(c.active||b.hasFocus())&&a(b,c)}function h(b){var c=
b.state.matchHighlighter;c.active||(c.active=!0,a(b,c))}function a(a,b){clearTimeout(b.timeout);b.timeout=setTimeout(function(){g(a)},b.options.delay)}function b(a,b,c,e){var g=a.state.matchHighlighter,h;a.addOverlay(g.overlay=m(b,c,e));g.options.annotateScrollbar&&a.showMatchesOnScrollbar&&(h=c?new RegExp("\\b"+b+"\\b"):b,g.matchesonscroll=a.showMatchesOnScrollbar(h,!1,{className:"CodeMirror-selection-highlight-scrollbar"}))}function e(a){var b=a.state.matchHighlighter;b.overlay&&(a.removeOverlay(b.overlay),
b.overlay=null,b.matchesonscroll&&(b.matchesonscroll.clear(),b.matchesonscroll=null))}function g(a){a.operation(function(){var c=a.state.matchHighlighter,d,g,h;if(e(a),!a.somethingSelected()&&c.options.showToken){d=!0===c.options.showToken?/[\w$]/:c.options.showToken;h=a.getCursor();g=a.getLine(h.line);for(var k=h=h.ch;h&&d.test(g.charAt(h-1));)--h;for(;k<g.length&&d.test(g.charAt(k));)++k;h<k&&b(a,g.slice(h,k),d,c.options.style)}else{var m;if((m=(d=a.getCursor("from"),g=a.getCursor("to"),d.line==
g.line))&&!(m=!c.options.wordsOnly)){var n;m=null!==a.getRange(d,g).match(/^\w+$/)?0<d.ch&&(k={line:d.line,ch:d.ch-1},n=a.getRange(k,d),null===n.match(/\W/))?!1:g.ch<a.getLine(d.line).length&&(k={line:g.line,ch:g.ch+1},n=a.getRange(g,k),null===n.match(/\W/))?!1:!0:!1}m&&(h=a.getRange(d,g),c.options.trim&&(h=h.replace(/^\s+|\s+$/g,"")),h.length>=c.options.minChars&&b(a,h,!1,c.options.style))}})}function m(a,b,c){return{token:function(e){var g;if(g=e.match(a))(g=!b)||(g=(!e.start||!b.test(e.string.charAt(e.start-
1)))&&(e.pos==e.string.length||!b.test(e.string.charAt(e.pos))));if(g)return c;e.next();e.skipTo(a.charAt(0))||e.skipToEnd()}}}var q={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};c.defineOption("highlightSelectionMatches",!1,function(a,b,d){if(d&&d!=c.Init&&(e(a),clearTimeout(a.state.matchHighlighter.timeout),a.state.matchHighlighter=null,a.off("cursorActivity",k),a.off("focus",h)),b){b=a.state.matchHighlighter=new n(b);if(a.hasFocus())b.active=
!0,g(a);else a.on("focus",h);a.on("cursorActivity",k)}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.multiplexingMode=function(n){function k(a,b,c,g){var h,k;return"string"==typeof b?(h=a.indexOf(b,c),g&&-1<h?h+b.length:h):(k=b.exec(c?a.slice(c):a),k?k.index+c+(g?k[0].length:0):-1)}var h=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:c.startState(n),innerActive:null,
inner:null}},copyState:function(a){return{outer:c.copyState(n,a.outer),innerActive:a.innerActive,inner:a.innerActive&&c.copyState(a.innerActive.mode,a.inner)}},token:function(a,b){var e,g,m,q,p,f;if(b.innerActive)return(e=b.innerActive,p=a.string,!e.close&&a.sol())?(b.innerActive=b.inner=null,this.token(a,b)):(f=e.close?k(p,e.close,a.pos,e.parseDelimiters):-1,f!=a.pos||e.parseDelimiters)?(-1<f&&(a.string=p.slice(0,f)),g=e.mode.token(a,b.inner),-1<f&&(a.string=p),f==a.pos&&e.parseDelimiters&&(b.innerActive=
b.inner=null),e.innerStyle&&(g=g?g+" "+e.innerStyle:e.innerStyle),g):(a.match(e.close),b.innerActive=b.inner=null,e.delimStyle&&e.delimStyle+" "+e.delimStyle+"-close");e=Infinity;p=a.string;for(g=0;g<h.length;++g){if(m=h[g],f=k(p,m.open,a.pos),f==a.pos)return m.parseDelimiters||a.match(m.open),b.innerActive=m,b.inner=c.startState(m.mode,n.indent?n.indent(b.outer,""):0),m.delimStyle&&m.delimStyle+" "+m.delimStyle+"-open";-1!=f&&f<e&&(e=f)}return Infinity!=e&&(a.string=p.slice(0,e)),q=n.token(a,b.outer),
Infinity!=e&&(a.string=p),q},indent:function(a,b){var e=a.innerActive?a.innerActive.mode:n;return e.indent?e.indent(a.innerActive?a.inner:a.outer,b):c.Pass},blankLine:function(a){var b=a.innerActive?a.innerActive.mode:n,e,g;if(b.blankLine&&b.blankLine(a.innerActive?a.inner:a.outer),a.innerActive)"\n"===a.innerActive.close&&(a.innerActive=a.inner=null);else for(e=0;e<h.length;++e)g=h[e],"\n"===g.open&&(a.innerActive=g,a.inner=c.startState(g.mode,b.indent?b.indent(a.outer,""):0))},electricChars:n.electricChars,
innerMode:function(a){return a.inner?{state:a.inner,mode:a.innerActive.mode}:{state:a.outer,mode:n}}}}});